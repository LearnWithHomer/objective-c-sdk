<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Objective-C SDK: OPTLYFMDBDatabaseQueue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Objective-C SDK
   &#160;<span id="projectnumber">2.x</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#properties">Properties</a> &#124;
<a href="interface_o_p_t_l_y_f_m_d_b_database_queue-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OPTLYFMDBDatabaseQueue Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_o_p_t_l_y_f_m_d_b_database_queue_8h_source.html">OPTLYFMDBDatabaseQueue.h</a>&gt;</code></p>

<p>Inherits NSObject.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Instance Methods</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Dispatching database operations to queue</div></td></tr>
<tr><td colspan="2"><div class="groupText"><hr/>
 <hr/>
 </div></td></tr>
<tr class="memitem:abc4d8336b211f69f6bd9dddfbf867e77"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#abc4d8336b211f69f6bd9dddfbf867e77">inDatabase:</a></td></tr>
<tr class="separator:abc4d8336b211f69f6bd9dddfbf867e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b3f5f9d9820bb35c8b199bf0f551f2f"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a2b3f5f9d9820bb35c8b199bf0f551f2f">inTransaction:</a></td></tr>
<tr class="separator:a2b3f5f9d9820bb35c8b199bf0f551f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89496d5659141d09463b0f06232a6985"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a89496d5659141d09463b0f06232a6985">inDeferredTransaction:</a></td></tr>
<tr class="separator:a89496d5659141d09463b0f06232a6985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af31652390dec87fa2d97d9e9724558f9"><td class="memItemLeft" align="right" valign="top">(NSError *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#af31652390dec87fa2d97d9e9724558f9">inSavePoint:</a></td></tr>
<tr class="separator:af31652390dec87fa2d97d9e9724558f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a8b1238f775d8242d4cccc2e797b24ff1"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a8b1238f775d8242d4cccc2e797b24ff1">path</a></td></tr>
<tr class="separator:a8b1238f775d8242d4cccc2e797b24ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1c1ac1e51de11c9ea80f46b87e93cfa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#aa1c1ac1e51de11c9ea80f46b87e93cfa">openFlags</a></td></tr>
<tr class="separator:aa1c1ac1e51de11c9ea80f46b87e93cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd3178ef3045e2fdda8e33d7af3a1115"><td class="memItemLeft" align="right" valign="top">NSString *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#acd3178ef3045e2fdda8e33d7af3a1115">vfsName</a></td></tr>
<tr class="separator:acd3178ef3045e2fdda8e33d7af3a1115"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Initialization, opening, and closing of queue</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp655593ffab6e21838f5ebeedaa7009e5"></a></p><hr/>
 <hr/>
 </td></tr>
<tr class="memitem:a70c1b4d9fba1dec4e6b6e1d19df6d7d9"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a70c1b4d9fba1dec4e6b6e1d19df6d7d9">databaseQueueWithPath:</a></td></tr>
<tr class="separator:a70c1b4d9fba1dec4e6b6e1d19df6d7d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55595f0000fc655efb628f84a90a4cd"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#af55595f0000fc655efb628f84a90a4cd">databaseQueueWithURL:</a></td></tr>
<tr class="separator:af55595f0000fc655efb628f84a90a4cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d59bdf3e5e66955ead0ee7cd39bae7"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a04d59bdf3e5e66955ead0ee7cd39bae7">databaseQueueWithPath:flags:</a></td></tr>
<tr class="separator:a04d59bdf3e5e66955ead0ee7cd39bae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae8cd3cf5543edf1f92ceb7125af1bd"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a9ae8cd3cf5543edf1f92ceb7125af1bd">databaseQueueWithURL:flags:</a></td></tr>
<tr class="separator:a9ae8cd3cf5543edf1f92ceb7125af1bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a998bccd16ef33262eac8a8e88e23d78b"><td class="memItemLeft" align="right" valign="top">(Class)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a998bccd16ef33262eac8a8e88e23d78b">databaseClass</a></td></tr>
<tr class="separator:a998bccd16ef33262eac8a8e88e23d78b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affaf3bb46813b9631b2dc4c8e0703e3a"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#affaf3bb46813b9631b2dc4c8e0703e3a">initWithPath:</a></td></tr>
<tr class="separator:affaf3bb46813b9631b2dc4c8e0703e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a554f6477a5ed4fe69ae83bb2200edb48"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a554f6477a5ed4fe69ae83bb2200edb48">initWithURL:</a></td></tr>
<tr class="separator:a554f6477a5ed4fe69ae83bb2200edb48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6767258c1a06d640d46994382479be4"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#ab6767258c1a06d640d46994382479be4">initWithPath:flags:</a></td></tr>
<tr class="separator:ab6767258c1a06d640d46994382479be4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4136c9e6ec92245fee3c768a370e670f"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a4136c9e6ec92245fee3c768a370e670f">initWithURL:flags:</a></td></tr>
<tr class="separator:a4136c9e6ec92245fee3c768a370e670f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208f0214f8b43cb1b41d5ecfe481d6ae"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a208f0214f8b43cb1b41d5ecfe481d6ae">initWithPath:flags:vfs:</a></td></tr>
<tr class="separator:a208f0214f8b43cb1b41d5ecfe481d6ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e52eded98d3648fb6251de8404c9f8"><td class="memItemLeft" align="right" valign="top">(instancetype)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#ae2e52eded98d3648fb6251de8404c9f8">initWithURL:flags:vfs:</a></td></tr>
<tr class="separator:ae2e52eded98d3648fb6251de8404c9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a342c60b5e86c99c87c10d562f23f32ff"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a342c60b5e86c99c87c10d562f23f32ff">close</a></td></tr>
<tr class="separator:a342c60b5e86c99c87c10d562f23f32ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabcbc11840a3e9e384ca5a6503292ef5"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#aabcbc11840a3e9e384ca5a6503292ef5">interrupt</a></td></tr>
<tr class="separator:aabcbc11840a3e9e384ca5a6503292ef5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>To perform queries and updates on multiple threads, you'll want to use <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code>.</p>
<p>Using a single instance of <code>&lt;<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a>&gt;</code> from multiple threads at once is a bad idea. It has always been OK to make a <code>&lt;<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a>&gt;</code> object <em>per thread</em>. Just don't share a single instance across threads, and definitely not across multiple threads at the same time.</p>
<p>Instead, use <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code>. Here's how to use it:</p>
<p>First, make your queue.</p>
<p><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a> *queue = [<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a> databaseQueueWithPath:aPath];</p>
<p>Then use it like so:</p>
<p>[queue inDatabase:^(<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a> *db) { [db executeUpdate:"INSERT INTO myTable VALUES (?)", [NSNumber numberWithInt:1]];
        [db executeUpdate:@"INSERT INTO myTable VALUES (?)", [NSNumber numberWithInt:2]];
        [db executeUpdate:@"INSERT INTO myTable VALUES (?)", [NSNumber numberWithInt:3]];</p>
<p><a class="el" href="interface_o_p_t_l_y_f_m_d_b_result_set.html">OPTLYFMDBResultSet</a> *rs = [db executeQuery:"select * from foo"]; while ([rs next]) { … } }];</p>
<p>An easy way to wrap things up in a transaction can be done like this:</p>
<p>[queue inTransaction:^(<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a> *db, BOOL *rollback) { [db executeUpdate:"INSERT INTO myTable VALUES (?)", [NSNumber numberWithInt:1]];
        [db executeUpdate:@"INSERT INTO myTable VALUES (?)", [NSNumber numberWithInt:2]];
        [db executeUpdate:@"INSERT INTO myTable VALUES (?)", [NSNumber numberWithInt:3]];</p>
<p>if (whoopsSomethingWrongHappened) { rollback = YES; return; } etc… [db executeUpdate:"INSERT INTO myTable VALUES (?)", [NSNumber numberWithInt:4]]; }];</p>
<p><code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> will run the blocks on a serialized queue (hence the name of the class). So if you call <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code>'s methods from multiple threads at the same time, they will be executed in the order they are received. This way queries and updates won't step on each other's toes, and every one is happy.</p>
<h3>See also</h3>
<ul>
<li><code>&lt;<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a>&gt;</code></li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>Do not instantiate a single <code>&lt;<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a>&gt;</code> object and use it across multiple threads. Use <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> instead.</dd>
<dd>
The calls to <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code>'s methods are blocking. So even though you are passing along blocks, they will <b>not</b> be run on another thread. </dd></dl>
</div><h2 class="groupheader">Method Documentation</h2>
<a id="a342c60b5e86c99c87c10d562f23f32ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a342c60b5e86c99c87c10d562f23f32ff">&#9670;&nbsp;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) close </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close database used by queue. </p>

</div>
</div>
<a id="a998bccd16ef33262eac8a8e88e23d78b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a998bccd16ef33262eac8a8e88e23d78b">&#9670;&nbsp;</a></span>databaseClass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (Class) databaseClass </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the Class of '<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a>' subclass, that will be used to instantiate database object.</p>
<p>Subclasses can override this method to return specified Class of '<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a>' subclass.</p>
<dl class="section return"><dt>Returns</dt><dd>The Class of '<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a>' subclass, that will be used to instantiate database object. </dd></dl>

</div>
</div>
<a id="a70c1b4d9fba1dec4e6b6e1d19df6d7d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70c1b4d9fba1dec4e6b6e1d19df6d7d9">&#9670;&nbsp;</a></span>databaseQueueWithPath:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (instancetype) databaseQueueWithPath: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aPath</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create queue using path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aPath</td><td>The file path of the database.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> object. <code>nil</code> on error. </dd></dl>

</div>
</div>
<a id="a04d59bdf3e5e66955ead0ee7cd39bae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04d59bdf3e5e66955ead0ee7cd39bae7">&#9670;&nbsp;</a></span>databaseQueueWithPath:flags:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (instancetype) <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a70c1b4d9fba1dec4e6b6e1d19df6d7d9">databaseQueueWithPath:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aPath</em></td>
        </tr>
        <tr>
          <td class="paramkey">flags:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>openFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create queue using path and specified flags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aPath</td><td>The file path of the database. </td></tr>
    <tr><td class="paramname">openFlags</td><td>Flags passed to the openWithFlags method of the database.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> object. <code>nil</code> on error. </dd></dl>

</div>
</div>
<a id="af55595f0000fc655efb628f84a90a4cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af55595f0000fc655efb628f84a90a4cd">&#9670;&nbsp;</a></span>databaseQueueWithURL:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (instancetype) databaseQueueWithURL: </td>
          <td></td>
          <td class="paramtype">(NSURL *_Nullable)&#160;</td>
          <td class="paramname"><em>url</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create queue using file URL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The file <code>NSURL</code> of the database.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> object. <code>nil</code> on error. </dd></dl>

</div>
</div>
<a id="a9ae8cd3cf5543edf1f92ceb7125af1bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ae8cd3cf5543edf1f92ceb7125af1bd">&#9670;&nbsp;</a></span>databaseQueueWithURL:flags:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (instancetype) <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#af55595f0000fc655efb628f84a90a4cd">databaseQueueWithURL:</a> </td>
          <td></td>
          <td class="paramtype">(NSURL *_Nullable)&#160;</td>
          <td class="paramname"><em>url</em></td>
        </tr>
        <tr>
          <td class="paramkey">flags:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>openFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create queue using file URL and specified flags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The file <code>NSURL</code> of the database. </td></tr>
    <tr><td class="paramname">openFlags</td><td>Flags passed to the openWithFlags method of the database.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> object. <code>nil</code> on error. </dd></dl>

</div>
</div>
<a id="abc4d8336b211f69f6bd9dddfbf867e77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc4d8336b211f69f6bd9dddfbf867e77">&#9670;&nbsp;</a></span>inDatabase:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) inDatabase: </td>
          <td></td>
          <td class="paramtype">(__attribute__((noescape)) void(^)(<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a> *db))&#160;</td>
          <td class="paramname"><em>block</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronously perform database operations on queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td>The code to be run on the queue of <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a89496d5659141d09463b0f06232a6985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89496d5659141d09463b0f06232a6985">&#9670;&nbsp;</a></span>inDeferredTransaction:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) inDeferredTransaction: </td>
          <td></td>
          <td class="paramtype">(__attribute__((noescape)) void(^)(<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a> *db, BOOL *rollback))&#160;</td>
          <td class="paramname"><em>block</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronously perform database operations on queue, using deferred transactions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td>The code to be run on the queue of <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="affaf3bb46813b9631b2dc4c8e0703e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affaf3bb46813b9631b2dc4c8e0703e3a">&#9670;&nbsp;</a></span>initWithPath:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (instancetype) initWithPath: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aPath</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create queue using path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aPath</td><td>The file path of the database.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> object. <code>nil</code> on error. </dd></dl>

</div>
</div>
<a id="ab6767258c1a06d640d46994382479be4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6767258c1a06d640d46994382479be4">&#9670;&nbsp;</a></span>initWithPath:flags:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (instancetype) <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#affaf3bb46813b9631b2dc4c8e0703e3a">initWithPath:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aPath</em></td>
        </tr>
        <tr>
          <td class="paramkey">flags:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>openFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create queue using path and specified flags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aPath</td><td>The file path of the database. </td></tr>
    <tr><td class="paramname">openFlags</td><td>Flags passed to the openWithFlags method of the database.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> object. <code>nil</code> on error. </dd></dl>

</div>
</div>
<a id="a208f0214f8b43cb1b41d5ecfe481d6ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a208f0214f8b43cb1b41d5ecfe481d6ae">&#9670;&nbsp;</a></span>initWithPath:flags:vfs:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (instancetype) <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#affaf3bb46813b9631b2dc4c8e0703e3a">initWithPath:</a> </td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aPath</em></td>
        </tr>
        <tr>
          <td class="paramkey">flags:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>openFlags</em></td>
        </tr>
        <tr>
          <td class="paramkey">vfs:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>vfsName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create queue using path and specified flags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aPath</td><td>The file path of the database. </td></tr>
    <tr><td class="paramname">openFlags</td><td>Flags passed to the openWithFlags method of the database </td></tr>
    <tr><td class="paramname">vfsName</td><td>The name of a custom virtual file system</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> object. <code>nil</code> on error. </dd></dl>

</div>
</div>
<a id="a554f6477a5ed4fe69ae83bb2200edb48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a554f6477a5ed4fe69ae83bb2200edb48">&#9670;&nbsp;</a></span>initWithURL:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (instancetype) initWithURL: </td>
          <td></td>
          <td class="paramtype">(NSURL *_Nullable)&#160;</td>
          <td class="paramname"><em>url</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create queue using file URL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The file `NSURL of the database.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> object. <code>nil</code> on error. </dd></dl>

</div>
</div>
<a id="a4136c9e6ec92245fee3c768a370e670f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4136c9e6ec92245fee3c768a370e670f">&#9670;&nbsp;</a></span>initWithURL:flags:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (instancetype) <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a554f6477a5ed4fe69ae83bb2200edb48">initWithURL:</a> </td>
          <td></td>
          <td class="paramtype">(NSURL *_Nullable)&#160;</td>
          <td class="paramname"><em>url</em></td>
        </tr>
        <tr>
          <td class="paramkey">flags:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>openFlags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create queue using file URL and specified flags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The file path of the database. </td></tr>
    <tr><td class="paramname">openFlags</td><td>Flags passed to the openWithFlags method of the database.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> object. <code>nil</code> on error. </dd></dl>

</div>
</div>
<a id="ae2e52eded98d3648fb6251de8404c9f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2e52eded98d3648fb6251de8404c9f8">&#9670;&nbsp;</a></span>initWithURL:flags:vfs:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (instancetype) <a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html#a554f6477a5ed4fe69ae83bb2200edb48">initWithURL:</a> </td>
          <td></td>
          <td class="paramtype">(NSURL *_Nullable)&#160;</td>
          <td class="paramname"><em>url</em></td>
        </tr>
        <tr>
          <td class="paramkey">flags:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>openFlags</em></td>
        </tr>
        <tr>
          <td class="paramkey">vfs:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>vfsName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create queue using file URL and specified flags.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The file `NSURL of the database. </td></tr>
    <tr><td class="paramname">openFlags</td><td>Flags passed to the openWithFlags method of the database </td></tr>
    <tr><td class="paramname">vfsName</td><td>The name of a custom virtual file system</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> object. <code>nil</code> on error. </dd></dl>

</div>
</div>
<a id="af31652390dec87fa2d97d9e9724558f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af31652390dec87fa2d97d9e9724558f9">&#9670;&nbsp;</a></span>inSavePoint:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSError * _Nullable) inSavePoint: </td>
          <td></td>
          <td class="paramtype">(__attribute__((noescape)) void(^)(<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a> *db, BOOL *rollback))&#160;</td>
          <td class="paramname"><em>block</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronously perform database operations using save point.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td>The code to be run on the queue of <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aabcbc11840a3e9e384ca5a6503292ef5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabcbc11840a3e9e384ca5a6503292ef5">&#9670;&nbsp;</a></span>interrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) interrupt </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Interupt pending database operation. </p>

</div>
</div>
<a id="a2b3f5f9d9820bb35c8b199bf0f551f2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b3f5f9d9820bb35c8b199bf0f551f2f">&#9670;&nbsp;</a></span>inTransaction:()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) inTransaction: </td>
          <td></td>
          <td class="paramtype">(__attribute__((noescape)) void(^)(<a class="el" href="interface_o_p_t_l_y_f_m_d_b_database.html">OPTLYFMDBDatabase</a> *db, BOOL *rollback))&#160;</td>
          <td class="paramname"><em>block</em></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronously perform database operations on queue, using transactions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td>The code to be run on the queue of <code><a class="el" href="interface_o_p_t_l_y_f_m_d_b_database_queue.html">OPTLYFMDBDatabaseQueue</a></code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="aa1c1ac1e51de11c9ea80f46b87e93cfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1c1ac1e51de11c9ea80f46b87e93cfa">&#9670;&nbsp;</a></span>openFlags</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (int) openFlags</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">atomic</span><span class="mlabel">assign</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Open flags </p>

</div>
</div>
<a id="a8b1238f775d8242d4cccc2e797b24ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b1238f775d8242d4cccc2e797b24ff1">&#9670;&nbsp;</a></span>path</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) path</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">atomic</span><span class="mlabel">retain</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Path of database </p>

</div>
</div>
<a id="acd3178ef3045e2fdda8e33d7af3a1115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd3178ef3045e2fdda8e33d7af3a1115">&#9670;&nbsp;</a></span>vfsName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString*) vfsName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span><span class="mlabel">write</span><span class="mlabel">atomic</span><span class="mlabel">copy</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Custom virtual file system name </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>objective-c-sdk/OptimizelySDKShared/OPTLYFMDB/src/optlyfmdb/<a class="el" href="_o_p_t_l_y_f_m_d_b_database_queue_8h_source.html">OPTLYFMDBDatabaseQueue.h</a></li>
<li>objective-c-sdk/OptimizelySDKShared/OPTLYFMDB/src/optlyfmdb/OPTLYFMDBDatabaseQueue.m</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
